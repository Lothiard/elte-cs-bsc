<Window x:Class="ELTE.TicTacToeGame.View.TicTacToeWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Tic-Tac-Toe" Height="350" Width="315" MinHeight="350" MinWidth="315">
    
    <Window.InputBindings>
        <!-- billentyű kezelése -->
        <KeyBinding Modifiers="Control" Key="N" Command="{Binding NewGameCommand}" />
        <KeyBinding Modifiers="Control" Key="L" Command="{Binding LoadGameCommand}" />
        <KeyBinding Modifiers="Control" Key="S" Command="{Binding SaveGameCommand}"  />
        <KeyBinding Modifiers="Control" Key="X" Command="{Binding ExitGameCommand}" />
    </Window.InputBindings>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- menü -->
        <Menu Grid.Row="0">
            <MenuItem Header="Játék">
                <MenuItem Header="Új" Command="{Binding NewGameCommand}" />
                <Separator />
                <MenuItem Header="Játék betöltése..." Command="{Binding LoadGameCommand}" />
                <MenuItem Header="Játék mentése..." Command="{Binding SaveGameCommand}" />
                <Separator />
                <MenuItem Header="Kilépés" Command="{Binding ExitGameCommand}" />
            </MenuItem>
        </Menu>

        <Viewbox Grid.Row="1">
            <!-- a tartalom automatikusan zoomolva lesz -->
            <ItemsControl ItemsSource="{Binding Fields}" Width="300" Height="300">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <!-- az elemeket sorfolytonosan helyezzük el -->
                        <WrapPanel FlowDirection="LeftToRight" ItemHeight="100" ItemWidth="100" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <!-- a rácsba gombokat helyezünk el, amelyeken megjelenítjük a karaktert -->
                        <Button Command="{Binding FieldChangeCommand}" CommandParameter="{Binding}" Content="{Binding Player}" Background="White" FontSize="40" />
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Viewbox>
    </Grid>
</Window>